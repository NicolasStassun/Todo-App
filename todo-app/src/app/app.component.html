<header>

  <h1>TODO APP</h1>

</header>
<main class="container-fluid py-3" style="padding: 0;margin: 0;">
  <div class="d-flex justify-content-center mb-4 mt-2">
    <div class="btn-group " role="group" aria-label="Basic example"
      style="display: flex;justify-content: space-evenly; border-radius:40px ;">

      <button class="btn btn-primary" (click)="trocaBooleanTarefa()">{{nomeCadastroTarefa}}</button>
      <button class="btn btn-primary" (click)="trocaBooleanCategoria()">{{nomeCadastroCategoria}}</button>
      <button class="btn btn-primary" (click)="trocaBooleanRemover()">{{nomeRemoverCategoria}}</button>

    </div>
  </div>

  <div> 

    <div *ngIf="removerCategoriaBoolean" style="display:flex; justify-content: center; flex-wrap: nowrap;">

      <div id="cadastro">



        <p style="font-family: Loew;color: black; font-size: small;">Informe a categoria que deseja remover</p>

        <div style="display: flex; flex-direction:row; justify-content: center;">

          <select [(ngModel)]="categoria">
            <option *ngFor="let categoria of categorias;index as indice" [ngValue]="categoria">{{categoria}}</option>
          </select>
            <button *ngIf="categoria" (click)="deletaCategoria()">X</button>

        </div>
      </div>
    </div>




  </div>

  <div style="display: flex; justify-content: center;">
    <div *ngIf="cadastrarTarefaBoolean">
      <div id="cadastro">
        <input id="nome" placeholder="Nome" [(ngModel)]="teste.nome" />
        <textarea id="descricao" placeholder="Descricao" [(ngModel)]="teste.descricao"></textarea>
        <div id="botoes" class="d-flex column mb-3">
          <select [(ngModel)]="teste.categoria">
            <option *ngFor="let categoria of categorias" [attr.value]="categoria">{{categoria}}</option>
          </select>
          <button (click)="cadastrarTarefa()">
            Cadastrar tarefa
          </button>
        </div>
      </div>
    </div>

    <div *ngIf="cadastrarCategoriaBoolean">
      <div id="cadastro">
        <input id="nome" placeholder="Nome" [(ngModel)]="novaCategoria" />
        <div id="botoes">
          <button (click)="cadastrarCategoria(novaCategoria)">
            Cadastrar Categoria
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="teste">
    <div class="h-75" *ngFor="let categoria of categorias;index as indice" [attr.value]="categoria">
      <div>
        <div id="categorias" style="display:flex; flex-direction: column; width:40vh">
          <h1 class="d-flex flex-row mb-3">{{categoria}}</h1>
          <div *ngFor="let tarefa of tarefas;index as indice2">
            <div *ngIf="tarefa.categoria==categoria">
              <div id="tarefas">
                <button style="border:0;align-self:end;background-color: transparent;justify-self: end;"
                  (click)="deletaTarefa(indice2)">X</button>
                <p>
                  Tarefa: {{ tarefa.nome }}
                </p>
                <p>
                  Descrição:{{ tarefa.descricao }}
                </p>
                <p>
                  Categoria:{{ tarefa.categoria }}
                </p>
                <select [(ngModel)]="tarefa.categoria">
                  <option *ngFor="let categoria of categorias" [attr.value]="categoria">{{categoria}}</option>
                </select>
              </div>

            </div>
          </div>





        </div>
      </div>

    </div>
  </div>
</main>